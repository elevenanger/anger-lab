package exploitableparallelism.renderer;

import cn.anger.timer.stopwatch.StopWatch;

/**
 * @author : anger
 */
public class SingleThreadImageRenderer extends SimpleImageRenderer {
    @Override
    void renderPage(CharSequence source) {
        StopWatch stopWatch = StopWatch.get();
        stopWatch.start("single thread image renderer");
        // 首先渲染文本
        renderText(source);
        // 扫描字符中的图片信息
        scanForImageInfo(source).stream()
            .map(ImageInfo::downloadImage) // 下载图片
            .forEach(this::renderImage); // 渲染每一个图片
        stopWatch.stopAndPrint();
    }
}
